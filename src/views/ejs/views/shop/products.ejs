<%- include('../../includes/head') %>

<%- include('../../includes/main-nav') %>

<header class="bg-white shadow">
    <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
        <h1 class="text-3xl font-bold text-gray-900"><%= pageTitle %></h1>
    </div>
</header>
<main>
    <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        <div class="px-4 py-6 sm:px-0">
            <% if(products.length) {%>
                <ul class="grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8">
                    <% products.map(product => { %>
                    <li class="group relative">
                        <a class="t-products__link bg-white shadow-xl rounded p-4" href="/shop/<%=product.title%>">
                            <h2 class="text-gray-900 text-lg mb-4"><%=product.title%></h2>
                            <div class="t-products__img-wrapper mb-4">
                                <img class="t-products__img" src="<%= product.imgUrl || 'https://cdn.pixabay.com/photo/2013/07/12/18/22/t-shirt-153370_960_720.png' %>" alt="<%= product.title %>"/>
                            </div>
                            <p class="t-products__description text-gray-500 mb-4">
                                <%= product.description %>
                            </p>
                            <p class="t-products__price text-lg font-bold text-gray-800">
                                $<%= product.price %>
                            </p>
                            <div class="t-products__actions flex mt-4">
                                <form action="/admin/add-to-cart" method="POST">
                                    <button class="w-full px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out" type="submit">Add to cart</button>
                                </form>
                            </div>
                        </a>
                    </li>
                    <% }) %>
                </ul>
            <% } else { %>
                <p class="mb-4">No products so far</p>
            <% } %>
        </div>
    </div>

</main>

<%- include('../../includes/footer') %>
